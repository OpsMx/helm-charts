prerequisites
Identify the github repo in which the helm charts of rest of the apps are present
user has commit permissions to this repo
git, helm, kubectl, bash, yq installed on user machine
kubeconfig for access to argocd cluster 
identify the applications in argocd that need to be clubbed together so they can rolled back together

steps to implement chartofapps

1. Identify the github repo in which the helm charts of rest of the apps are present
2. make sure the user has commit permissions to this repo
3. git clone repourl ( clone the repo )
4. cd to the root folder
5. run 
helm create chartofapps ( which will create helm related files )
cd chartofapps
rm -rf templates/* ( cleaning up )
echo > values.yaml ( cleaning up )

all the application yamls will go in the templates folder as <application-name>.yaml

6. identify the applications in argocd and create a file with their names, one name per line.
  lets call this file apps.txt in the folder <git-repo-root-folder>/chartofapps
7. make sure the kubeconfig is set to the cluster on which argocd is installed and then run this script 

addapps.sh apps.txt

https://raw.githubusercontent.com/gopaljayanthi/helm-charts/master/chartofapps/addapps.sh 

8. look at files in templates folder created, add change spec.sources[0].helm.parameter name and values strings
  the name should come from the parent app helm chart example (image.tag), the value should be from values.yaml example {{ .Values.<application-name>.image.tag }}
9. edit values.yaml to contain the values for each app example https://raw.githubusercontent.com/gopaljayanthi/helm-charts/master/chartofapps/values.yaml

10. git add, commit and push the changes and test

11. repeat steps 6 through 10 to add more applications

to test create an app in argocd using example
https://raw.githubusercontent.com/gopaljayanthi/helm-charts/master/chartofapps.yaml



